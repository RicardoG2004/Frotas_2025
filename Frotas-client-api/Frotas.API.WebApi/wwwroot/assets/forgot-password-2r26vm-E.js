import{_ as O,a as U}from"./logo-TZSfwjHH.js";import{L as $,_ as q,a as C}from"./loading-select-BKdHNHzH.js";import{u as G,_ as R}from"./loading-button-HDMC2WxA.js";import{c as D,a as b}from"./index.esm-ckVFB3Pu.js";import{b as I,r as _,c as M,o as j,d as i,e as z,f as H,w as a,g as e,h as t,i as o,j as x,m as y,t as J,k as S}from"./index-nCaapDSo.js";import{u as K}from"./tenantsStore-wtRwVbyB.js";import{G as Q}from"./guest-layout-wik0tbeY.js";import"./_plugin-vue_export-helper-x3n3nnut.js";const W={class:"auth-fluid"},X={class:"auth-fluid-form-box"},Y={class:"card-body d-flex flex-column h-100 gap-3"},Z={class:"auth-brand text-center text-lg-start"},tt=t("span",null,[t("img",{src:O,alt:"dark logo"})],-1),et=t("span",null,[t("img",{src:U,alt:"logo"})],-1),at={class:"my-auto"},ot=t("h4",{class:"mt-0"},"Forgot Password",-1),st=t("p",{class:"text-muted mb-4"},"Enter your email address to receive a password reset link",-1),lt={class:"d-grid mb-0 text-center"},nt={class:"mt-3"},it=t("small",{class:"d-sm-flex d-none"}," Specify the tenant with the dropdown. The Nano Boilerplate can resolve tenants by subdomain in real deployments. ",-1),rt={class:"mt-1 w-50"},dt={class:"footer footer-alt"},mt=t("small",null,"Return to Login",-1),ut=t("div",{class:"auth-fluid-right text-center"},[t("div",{class:"auth-fluid-right__logo"},[t("img",{src:q,alt:"small logo"})]),t("div",{class:"auth-user-testimonial"},[t("img",{src:C,class:"mb-2"}),t("h4",{class:"mb-1"},"Nano ASP.NET Boilerplate"),t("p",{class:"mb-3"},"Vue UI")])],-1),yt={__name:"forgot-password",setup(ct){const w=D({email:b().email().required(),tenant:b().required()}),V=I(),p=K(),f=_([]),r=_(!1),{handleSubmit:k,defineField:g,errors:T,meta:h,setFieldValue:N}=G({validationSchema:w}),[d,P]=g("email"),[m,B]=g("tenant"),A=M(()=>h.value.dirty&&h.value.valid),u=_(!1),v=k(async l=>{u.value=!0,await V.forgotPassword(l),u.value=!1});return j(async()=>{r.value=!0,await p.getTenantOptions(),f.value=p.tenantOptions.map(l=>({value:l.id,text:l.name})),r.value=!1,N("tenant","root")}),(l,s)=>{const c=i("router-link"),F=i("b-form-input"),L=i("b-form-invalid-feedback"),E=i("b-form-group");return z(),H(Q,null,{default:a(()=>[t("div",W,[t("div",X,[t("div",Y,[t("div",Z,[e(c,{to:"/",class:"logo-dark"},{default:a(()=>[tt]),_:1}),e(c,{to:"/",class:"logo-light"},{default:a(()=>[et]),_:1})]),t("div",at,[ot,st,t("form",{onSubmit:s[2]||(s[2]=(...n)=>o(v)&&o(v)(...n))},[e(E,{label:"Email","label-for":"email",class:"mb-3"},{default:a(()=>[e(F,y({type:"text"},o(P),{modelValue:o(d),"onUpdate:modelValue":s[0]||(s[0]=n=>x(d)?d.value=n:null),id:"email",placeholder:"name@example.com"}),null,16,["modelValue"]),e(L,{state:!1},{default:a(()=>[S(J(o(T).email),1)]),_:1})]),_:1}),t("div",lt,[e(R,{variant:"primary",type:"submit",disabled:!A.value,loading:u.value},{default:a(()=>[S(" Submit ")]),_:1},8,["disabled","loading"])]),t("div",nt,[it,t("div",rt,[e($,y(o(B),{modelValue:o(m),"onUpdate:modelValue":s[1]||(s[1]=n=>x(m)?m.value=n:null),id:"tenant",loading:r.value,options:f.value,label:"Tenant"}),null,16,["modelValue","loading","options"])])])],32)]),t("footer",dt,[e(c,{class:"text-muted float-end",to:"/login"},{default:a(()=>[mt]),_:1})])])]),ut])]),_:1})}}};export{yt as default};
