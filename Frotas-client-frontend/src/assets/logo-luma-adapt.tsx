import React, { forwardRef } from 'react'
import { Link } from 'react-router-dom'
import { cn } from '@/lib/utils'

type LogoLumaAdaptProps = React.HTMLAttributes<HTMLDivElement> & {
  to?: string
  disableLink?: boolean
  width?: number
  height?: number
}

export const LogoLumaAdapt = forwardRef<HTMLDivElement, LogoLumaAdaptProps>(
  (
    { width, height, to = '/', disableLink = false, className, ...props },
    ref
  ) => {
    // Calculating base size based on props
    const baseSize = {
      width: width ?? 50,
      height: height ?? 50,
    }

    const logoContent = (
      <svg
        width={baseSize.width}
        height={baseSize.height}
        viewBox='0 0 1383.3071 749.99999'
        xmlns='http://www.w3.org/2000/svg'
        className={cn('text-foreground', className)}
      >
        <defs>
          <style>
            {`
              .logo-primary { fill: hsl(var(--primary)); }
            `}
          </style>
        </defs>
        <g transform='matrix(1.0961351,0,0,1.0961351,-66.46334,-137.72804)'>
          <path
            transform='matrix(1,0,0,-1,0,935.4331)'
            d='m 1036.9052,649.3952 c 113.4967,-13.8214 202.1692,-111.1708 202.1692,-228.2476 v -32.0522 -147.2108 -41.228 c 0,-39.6099 -32.4063,-72.0158 -72.0162,-72.0158 -39.6099,0 -72.0158,32.4059 -72.0158,72.0158 v 56.1283 132.3105 39.9268 c 0,18.0655 -5.5622,34.8973 -15.0552,48.8636 17.3002,53.3098 5.5554,114.0631 -37.83,165.3268 z m -26.9584,-133.0761 c -0.7418,0.0204 -1.4833,0.0303 -2.2317,0.0303 0.7484,0 1.4899,-0.01 2.2317,-0.0303'
            className='logo-primary'
            fillRule='evenodd'
          />
          <path
            transform='matrix(1,0,0,-1,0,935.4331)'
            d='m 999.021,651.0909 c 1.9083,0 3.8129,-0.0238 5.7107,-0.0709 l 0.1989,-0.003 0.2359,-0.0102 h 0.067 c 1.5842,-0.0436 3.162,-0.1043 4.7364,-0.182 l 0.4348,-0.0201 0.9,-0.0473 c 1.4732,-0.0808 2.9429,-0.1718 4.4059,-0.2798 l 1.6316,-0.1247 0.4317,-0.0372 0.4315,-0.0368 2.5854,-0.2327 0.4315,-0.0406 2.5755,-0.2661 0.4283,-0.0474 0.4281,-0.047 0.8563,-0.0978 0.4281,-0.0505 0.4246,-0.0507 0.4283,-0.0505 5.252,-6.1826 c 43.3855,-51.2637 55.1302,-112.017 37.8302,-165.3268 l -0.1351,0.1956 -0.7786,1.1191 -0.4147,0.5797 -0.7586,1.0384 -0.1987,0.2729 -0.068,0.0944 -0.3472,0.4519 -0.6338,0.8294 -0.4785,0.61 -0.071,0.091 -0.8226,1.0213 -0.037,0.0439 -0.7314,0.8765 -0.2157,0.2563 -0.7081,0.826 -0.8663,0.9808 -0.064,0.0708 -0.735,0.8091 -0.081,0.0875 -0.8966,0.9576 -0.091,0.0978 -0.2832,0.2897 -0.8796,0.9037 -0.4685,0.4717 -0.1079,0.108 -0.9373,0.9136 -0.1046,0.0978 -0.6032,0.5697 -0.5193,0.4887 -0.6843,0.6304 -0.9776,0.8731 -0.1684,0.1449 -0.6744,0.5867 -0.1482,0.1279 -1.0012,0.843 -0.7013,0.5729 -0.5933,0.4787 -0.745,0.5865 v 0.003 l -1.0383,0.7991 -0.1179,0.0876 -0.4856,0.364 -1.4325,1.0451 -0.077,0.0573 -1.4395,0.9978 -0.4754,0.3203 -0.2494,0.1684 -1.099,0.7214 -0.145,0.0944 -0.3001,0.1888 -1.0516,0.6573 -0.6843,0.4215 -1.433,0.8496 -0.3874,0.2225 -1.0216,0.5729 -1.0752,0.5867 -1.1631,0.6135 -0.3608,0.1853 -1.554,0.7787 -0.1751,0.0845 -0.071,0.0337 -1.7295,0.8124 -0.1786,0.0808 -1.6183,0.7112 -0.7078,0.3002 -1.1866,0.4853 -0.3439,0.1418 -0.054,0.0201 -0.061,0.0235 -1.7126,0.6508 -0.3,0.1112 -1.6755,0.5967 -0.2021,0.0708 -0.3169,0.1043 -1.6181,0.5261 -0.155,0.0471 -1.8037,0.5428 -0.4853,0.1381 -1.7969,0.489 -0.037,0.01 -1.8034,0.4416 -0.472,0.1114 -1.8709,0.4079 -0.1148,0.0235 -1.6922,0.3269 -0.5494,0.1012 -1.7969,0.3002 -0.3742,0.0572 -1.9618,0.2764 -0.02,0.003 -1.8136,0.2089 -0.6472,0.0675 -1.6449,0.1482 -0.2631,0.0204 -0.2358,0.0134 -1.6589,0.108 -0.3234,0.0201 -0.2866,0.0136 -1.9349,0.0706 h -0.0238 c -0.7416,0.0204 -1.4831,0.0303 -2.2314,0.0303 -48.0309,0 -87.3273,-39.2964 -87.3273,-87.3272 V 280.9587 l -0.0204,-0.017 0.0204,-1.1596 c 0,-79.7896 -62.6581,-145.6399 -141.1968,-150.8043 v 60.6319 c -0.7687,18.2509 0,39.4481 0,52.2749 v 179.263 14.3572 l 0.4584,-0.0774 c 7.4398,119.8848 107.8098,215.6635 229.4847,215.6635'
            className='logo-primary'
            fillRule='evenodd'
          />
          <path
            transform='matrix(1,0,0,-1,0,935.4331)'
            d='m 302.1287,265.9844 c 1.4327,-0.0742 2.8724,-0.108 4.3183,-0.108 -1.4459,0 -2.8888,0.0338 -4.3183,0.108'
            className='logo-primary'
            fillRule='evenodd'
          />
          <path
            transform='matrix(1,0,0,-1,0,935.4331)'
            d='M 259.4815,131.0579 C 149.838,147.1646 64.9749,242.2185 64.9749,356.1466 v 14.7384 199.7859 164.0188 c 0,39.6099 32.406,72.0159 72.0159,72.0159 39.6099,0 72.0158,-32.406 72.0158,-72.0159 V 716.6443 370.885 353.2037 c 0,-6.4117 0.7079,-12.6684 2.0362,-18.696 l -0.007,0.0239 -0.003,-0.0102 c -29.0214,-86.5622 -8.8322,-163.9885 45.7149,-203.0457 z'
            className='logo-primary'
            fillRule='evenodd'
          />
          <path
            transform='matrix(1,0,0,-1,0,935.4331)'
            d='M 530.1,477.4071 V 376.1269 356.1466 c 0,-125.1303 -102.3724,-227.5058 -227.5061,-227.5058 -12.1493,0 -24.0829,0.9773 -35.733,2.8349 -54.5474,39.0572 -74.7366,116.4835 -45.7152,203.0457 l 0.003,0.0102 c 8.6131,-39.138 43.6723,-68.6552 85.2979,-68.6552 48.0311,0 87.3275,39.2965 87.3275,87.3273 v 109.455 13.1573 c 0,96.4054 78.8692,175.2749 175.2713,175.2749 96.4023,0 175.2715,-78.8695 175.2715,-175.2749 V 436.1284 129.3721 c -75.5555,7.4401 -135.2265,71.1193 -136.2986,148.3064 l -0.0269,0.017 v 2.0866 197.625 c 0,21.4197 -17.5229,38.9423 -38.9426,38.9423 h -0.007 c -21.4166,0 -38.9426,-17.526 -38.9426,-38.9423'
            className='logo-primary'
            fillRule='evenodd'
          />
          <path
            transform='matrix(1,0,0,-1,0,935.4331)'
            d='m 1278.6361,645.086 c 10.9466,0 20.8576,-4.4379 28.0313,-11.6121 7.1742,-7.1737 11.6122,-17.0847 11.6122,-28.0313 0,-10.9463 -4.4386,-20.8576 -11.6122,-28.0312 -7.1737,-7.1745 -17.0847,-11.6124 -28.0313,-11.6124 -10.9463,0 -20.8576,4.4384 -28.0315,11.6124 -7.1737,7.1736 -11.6122,17.0849 -11.6122,28.0312 0,10.9466 4.438,20.8576 11.6122,28.0313 7.1739,7.1736 17.0852,11.6121 28.0315,11.6121 z m 23.4884,-16.1549 c -6.01,6.0103 -14.3152,9.7287 -23.4884,9.7287 -9.1732,0 -17.4781,-3.7184 -23.4884,-9.7287 -6.0106,-6.0098 -9.7287,-14.3153 -9.7287,-23.4885 0,-9.1732 3.7181,-17.4781 9.7287,-23.4884 6.0103,-6.0106 14.3152,-9.7288 23.4884,-9.7288 9.1732,0 17.4784,3.7182 23.4884,9.7288 6.0103,6.0103 9.7285,14.3152 9.7285,23.4884 0,9.1732 -3.7182,17.4787 -9.7285,23.4885'
            className='logo-primary'
          />
          <text
            className='logo-primary'
            transform='translate(0,935.4331)'
            fontSize='51.406px'
            fontFamily='Arial'
            fontWeight='bold'
          >
            <tspan y='-587.0387' x='1258.3304'>
              R
            </tspan>
          </text>
        </g>
      </svg>
    )

    // If the link is disabled, just render the SVG
    if (disableLink) {
      return (
        <div ref={ref} {...props}>
          {logoContent}
        </div>
      )
    }

    // Otherwise, wrap the SVG with the Link component
    return (
      <div ref={ref} {...props}>
        <Link to={to} className='transition-opacity hover:opacity-80'>
          {logoContent}
        </Link>
      </div>
    )
  }
)

LogoLumaAdapt.displayName = 'LogoLumaAdapt'
