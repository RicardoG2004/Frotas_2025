import{s as L,r as k,c as M,d,e as t,l as i,h as a,v as U,x as $,g as m,w as r,F as b,i as c,y as P,z as E,f as p,A as w,B as f,t as C}from"./index-nCaapDSo.js";import{u as G,g as Y,a as q,b as J,c as K,F}from"./avatar-title-group-t4BuFJuh.js";import{s as Q}from"./layout-bRPLI_qW.js";const W={class:"card"},X={class:"card-body"},Z={class:"row align-items-end"},O={class:"col-sm-4 mb-2"},ee=a("label",{for:"searchInput",class:"form-label"},"Search:",-1),te=["placeholder"],oe=a("div",{class:"col-sm-8 mb-2"},[a("div",{class:"text-sm-end"})],-1),ae={key:0,class:"d-flex justify-content-center p-4"},se=a("span",{class:"spinner-border spinner-border-sm avatar-sm text-primary",role:"status","aria-hidden":"true"},null,-1),ne=[se],le={class:"table-footer"},ie={key:0},re={class:"d-inline-block me-3"},ce=["value"],de=["value"],ue={class:"pagination pagination-rounded d-inline-flex align-item-center mb-0"},me={__name:"client-table",props:{data:Object,columns:Array,loading:Boolean,filterPlaceholder:String},setup(u){const v=L(),_=u,y=[5,10,25,50],h=k([]),S=k(""),g=k(1),e=G({get data(){return _.data},get columns(){return _.columns},getCoreRowModel:Y(),getPaginationRowModel:q(),getSortedRowModel:J(),getFilteredRowModel:K(),initialState:{pagination:{pageSize:v.pageSize}},state:{get sorting(){return h.value},get globalFilter(){return S.value}},onSortingChange:n=>{h.value=typeof n=="function"?n(h.value):n}});function D(n){const l=n?Number(n)-1:0;g.value=l+1,e.setPageIndex(l)}function N(n){e.setPageSize(Number(n.target.value))}const V=M(()=>{let n=e.getState().pagination.pageSize*g.value-e.getState().pagination.pageSize+1,l=e.getState().pagination.pageSize*g.value,x=Math.ceil(e.getFilteredRowModel().rows.length/e.getState().pagination.pageSize);return g.value==x&&(l=e.getFilteredRowModel().rows.length),e.getFilteredRowModel().rows.length==0?"No results":"Showing "+n+" to "+l+" of "+e.getFilteredRowModel().rows.length+" entries"});return(n,l)=>{const x=d("b-th"),R=d("b-tr"),B=d("b-thead"),T=d("b-td"),A=d("b-tbody"),I=d("b-table-simple"),j=d("b-pagination");return t(),i("div",W,[a("div",X,[a("div",Z,[a("div",O,[ee,U(a("input",{id:"searchInput",type:"text",placeholder:_.filterPlaceholder,class:"form-control","onUpdate:modelValue":l[0]||(l[0]=s=>S.value=s),style:{"max-width":"250px"}},null,8,te),[[$,S.value]])]),oe]),m(c(Q),{class:"table-responsive","data-simplebar-auto-hide":"false"},{default:r(()=>[m(I,{class:"table table-striped table-centered w-100 nowrap dataTable"},{default:r(()=>[m(B,null,{default:r(()=>[(t(!0),i(b,null,f(c(e).getHeaderGroups(),s=>(t(),p(R,{key:s.id},{default:r(()=>[(t(!0),i(b,null,f(s.headers,o=>(t(),p(x,{key:o.id,colSpan:o.colSpan,onClick:H=>{var z;return(z=o.column.getToggleSortingHandler())==null?void 0:z(H)},class:P({sorting:o.column.columnDef.enableSorting,sorting_desc:o.column.getIsSorted()=="desc",sorting_asc:o.column.getIsSorted()=="asc"}),style:E({width:`${o.getSize()}px`})},{default:r(()=>[o.isPlaceholder?w("",!0):(t(),p(c(F),{key:0,render:o.column.columnDef.label,props:o.getContext()},null,8,["render","props"]))]),_:2},1032,["colSpan","onClick","class","style"]))),128))]),_:2},1024))),128))]),_:1}),u.loading?w("",!0):(t(),p(A,{key:0},{default:r(()=>[(t(!0),i(b,null,f(c(e).getRowModel().rows,s=>(t(),p(R,{key:s.id},{default:r(()=>[(t(!0),i(b,null,f(s.getVisibleCells(),o=>(t(),p(T,{key:o.id},{default:r(()=>[m(c(F),{render:o.column.columnDef.cell,props:o.getContext()},null,8,["render","props"])]),_:2},1024))),128))]),_:2},1024))),128))]),_:1}))]),_:1})]),_:1}),u.loading?(t(),i("div",ae,ne)):w("",!0),a("div",le,[a("div",null,[u.loading?w("",!0):(t(),i("span",ie,C(V.value),1))]),a("div",re,[a("select",{class:"form-select d-inline-block w-auto",value:c(e).getState().pagination.pageSize,onChange:N},[(t(),i(b,null,f(y,s=>a("option",{key:s,value:s},C(s),9,de)),64))],40,ce)]),a("ul",ue,[m(j,{modelValue:g.value,"onUpdate:modelValue":[l[1]||(l[1]=s=>g.value=s),D],"total-rows":c(e).getFilteredRowModel().rows.length,"per-page":c(e).getState().pagination.pageSize},null,8,["modelValue","total-rows","per-page"])])])])])}}},be={__name:"active-badge",props:["isActive"],setup(u){const v=u,_=M(()=>{switch(v.isActive){case!0:return"text-success";case!1:return"text-danger"}}),y=M(()=>{switch(v.isActive){case!0:return"Yes";case!1:return"No"}});return(h,S)=>(t(),i("strong",{class:P(["text-capitalize",_.value])},C(y.value),3))}};export{be as _,me as a};
